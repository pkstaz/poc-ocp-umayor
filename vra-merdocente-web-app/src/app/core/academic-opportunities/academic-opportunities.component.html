<section class="section">
	<div class="row">
		<div class="col-12">
			<div class="card shadow-sm">
				<div class="card-header">
					<h4 class="card-title">Oportunidades Académicas | {{ nameVersion }}</h4>
					<h6 class="card-subtitle">Desde esta sección podrás buscar asignaturas en las que podrás postular
						de acuerdo a tu perfil. Si quieres una busqueda especial haz clic en el siguiente link:
					</h6>

					<app-filter-asignaturas (data)="agregarNuevaBusqueda('args', $event)"></app-filter-asignaturas>

					<div class="button-card">
						<a class="icon show" href="#" data-bs-toggle="dropdown" aria-expanded="true"><i class="bi bi-three-dots foo-lg"></i></a>
						<ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow" data-popper-placement="top-end">
							<li class="dropdown-header">
								<h6>Acciones masivas</h6>
							</li>
							<li><a class="dropdown-item" href="#">Postular ofertas</a></li>
							<li><a class="dropdown-item" href="#">Enviar mensaje</a></li>
							<li><a class="dropdown-item" href="#">Otros</a></li>
						</ul>
					</div>
				</div>
				<div id="wrapp-asignaturas" class="card-body wrapp-asignaturas">


					<!-- <div *ngIf="loadingData" class="d-flex justify-content-center">
						<div class="spinner-border" role="status">
							<span class="visually-hidden">Loading...</span>
						</div>
					</div> -->


					<div class="table-responsive">
						<table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" id="academic-search" class="table table-striped table-hover" style="width: 100%;">

							<thead class="table-dark">
								<tr>
									<th><div class="form-check"><input class="form-check-input" type="checkbox" value="" [(ngModel)]="allItems" (change)="selectAll($event)" #checkboxAll></div>
									</th>
										<th scope="col" class="text-center">Cod. Asignatura</th>
										<th scope="col">Desc. Asignatura</th>
										<th scope="col" class="text-center">Regimen</th>
										<th scope="col" class="text-center">Desc. Actividad</th>
										<th scope="col" class="text-center">Impartición</th>
										<th scope="col" class="text-center">Facultad</th>
										<th scope="col" class="text-center">Acciones</th>
									</tr>
								 
							</thead>
							<tbody class="table-group-divider">
								<tr *ngFor="let asignatura of getAllAsignasturas; let i = index">
									<th scope="row">
										<div class="form-check">
											<input
											class="form-check-input"
											type="checkbox"
											value="{{ asignatura.cod_asignatura }}"
											[(ngModel)]="asignatura.selected"
											(change)="getSelectedItems(asignatura, $event)"
											>
										</div>
									</th>
									<!-- <th scope="row" class="text-center">{{ i + 1 }}</th> -->
									<td class="text-center">{{ asignatura.cod_asignatura }}</td>
									<td>{{ asignatura.descripcion_asignatura }}</td>
									<td>{{ asignatura.regimen }}</td>
									<td class="text-center">{{ asignatura.desc_actividad }}</td>
									<td class="text-center">{{ asignatura.clase_imparticion}}</td>
									<td class="text-center">{{ asignatura.facultad }}</td>
									<td class="text-center">
										<div class="button-table">
											<ul class="list-inline mb-0">
												<li class="list-inline-item dropdown">
													<a class="text-muted dropdown-toggle foo-lg px-2" href="#" role="button" data-bs-toggle="dropdown"
														aria-haspopup="true"><i class="bx bx-dots-vertical-rounded"></i></a>
													<div class="dropdown-menu dropdown-menu-end">


															<h6 class="dropdown-header">Acciones directas</h6>
															<a href="javascript:void(0);" data-bs-toggle="tooltip" data-bs-placement="top" title="Agregar asignatura" class="dropdown-item" (click)="addAsignatura(asignatura)">Agregar Asignatura</a>
															<a href="javascript:void(0);" data-bs-toggle="tooltip" data-bs-placement="top" title="Aliminar asignatura" class="dropdown-item" (click)="deleteAsignatura(asignatura)">Eliminar asignatura</a>
															<a href="javascript:void(0);" data-bs-toggle="tooltip" data-bs-placement="top" title="Enviar mensaje" class="dropdown-item" (click)="sendChat()">Enviar Mensaje</a>

													</div>
												</li>
											</ul>
										</div>
									</td>
								</tr>
							</tbody>

						
						
						</table>
					</div>
				</div>
			</div>
		</div>
		<!-- <div class="col-6">
			<div class="bd-callout bd-callout-code">
				<h4>Información Profile:</h4>
				<pre>{{ getAllAsignasturas| json }}</pre>
			</div>
		</div>
		<div class="col-6">
			<div class="bd-callout bd-callout-code">
				<h4>Información Asignaturas:</h4>
				  <pre>{{ userAsignaturas | json }}</pre> 
			</div>
		</div> -->
	</div>	
</section>
